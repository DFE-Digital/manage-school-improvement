@page "/engagement-concern/{id:int}/{readableEngagementConcernId:int}/record-use-of-interim-executive-board"
@model Dfe.ManageSchoolImprovement.Frontend.Pages.EngagementConcern.RecordUseOfInterimExecutiveBoardModel

@inject IConfiguration Configuration

@{
    ViewData["Title"] = "Record use of interim executive board";
}

@section BeforeMain
{
    <a asp-page="@Links.EngagementConcern.Index.Page" asp-route-id="@Model.SupportProject.Id" class="govuk-back-link">Back</a>
}

@if (Model.ShowError)
{
    <partial name="_ErrorSummary"/>
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <span class="govuk-caption-l">@Model.SupportProject.SchoolName</span>
        <form method="post">
            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                        <h1 class="govuk-fieldset__heading">
                            Record use of interim executive board
                        </h1>
                    </legend>

                    <p class="govuk-body">Interim executive boards (IEBs) are temporary boards who replace the existing
                        governors at a local authority maintained school.</p>
                    <p class="govuk-body">An IEB should only be used if all other attempts to engage with the governors
                        have failed.</p>
                    <p class="govuk-body">You must read the latest <a class="govuk-link"
                                                                      href="@Configuration["IEBGuidanceLink"]"
                                                                      rel="noreferrer noopener"
                                                                      target="_blank">guidance on how to create
                            an IEB (opens
                            in new tab)</a>.</p>

                    <details class="govuk-details" data-module="govuk-details">
                        <summary class="govuk-details__summary">
                            <span class="govuk-details__summary-text">
                                How to create interim executive boards
                            </span>
                        </summary>
                        <div class="govuk-details__text">
                            <p class="govuk-body">An IEB is a small group of experienced people who temporarily take over the
                                role of a school's governing body.</p>
                            <p class="govuk-body">Their job is to improve how the school is run and help raise educational
                                standards.</p>
                            <p class="govuk-body">DfE can only create an IEB after a period of formal consultation with the
                                local authority and governing body. The diocese or foundation trust must also be consulted if it
                                is a faith school or part of a foundation.</p>
                            <p class="govuk-body">After the consultation, a regional director must decide if an IEB is needed.</p>
                            <p class="govuk-body">An IEB can only be created with a regional director's approval.</p>
                        </div>
                    </details>
                

                    <div class="govuk-form-group @(Model.ShowDetailsError ? "govuk-form-group--error" : "")">
                        <h1 class="govuk-label-wrapper">
                            <label class="govuk-label govuk-label--m" for="ieb-created-details">
                                Enter details
                            </label>
                        </h1>
                        <div class="govuk-hint">Give details of the IEB, who is on it and why it is necessary.</div>
                        @if (Model.ShowDetailsError)
                        {
                            <p id="more-detail-error" class="govuk-error-message">
                                <span class="govuk-visually-hidden">Error:</span> Enter details
                            </p>
                        }
                        <textarea class="govuk-textarea"
                                          id="ieb-created-details"
                                          name="ieb-created-details"
                                          rows="5"
                                          aria-describedby="ieb-created-details-hint">@Model.InterimExecutiveBoardCreatedDetails</textarea>
                    </div>
                    <div class="govuk-form-group">
                        <h1 class="govuk-label-wrapper">
                            <label class="govuk-label govuk-label--m" for="ieb-created-date">
                                Enter date of regional director's decision to create and interim executive board
                            </label>
                        </h1>
                        <govuk-date-input heading-label="true"
                                          hint="For example, 1 7 2024."
                                          id="ieb-created-date"
                                          name="ieb-created-date"
                                          asp-for="@Model.InterimExecutiveBoardCreatedDate"/>
                    </div>
                </fieldset>
            </div>

            <div class="govuk-button-group govuk-body">
                <button type="submit" class="govuk-button" data-module="govuk-button"
                        data-cy="save-ieb-created-btn">
                    Save and return
                </button>
                <a asp-page="@Links.EngagementConcern.Index.Page" asp-route-id="@Model.SupportProject.Id"
                   class="govuk-link">Cancel</a>
            </div>
        </form>
    </div>
</div>

