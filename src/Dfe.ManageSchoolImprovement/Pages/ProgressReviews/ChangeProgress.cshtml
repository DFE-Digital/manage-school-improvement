@page "/ProgressReviews/{id:int}/ChangeProgress/{objectiveProgressId:int}"
@model Dfe.ManageSchoolImprovement.Frontend.Pages.ProgressReviews.ChangeProgressModel
@{
    ViewData["Title"] = "Change progress";
}

@section BeforeMain
{
    <a asp-page="@Model.ReturnPage" asp-route-id="@Model.SupportProject.Id" class="govuk-back-link">Back</a>
}

@if (Model.ShowError)
{
    <partial name="_ErrorSummary" />
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <span class="govuk-caption-l" data-cy="area-of-improvement">@Model.AreaOfImprovement</span>
        <h1 class="govuk-heading-l" data-cy="page-heading">
            @Model.ObjectiveTitle
        </h1>
        
        <!-- Review details box -->
        <div class="govuk-inset-text">
            <p class="govuk-body govuk-!-margin-bottom-0">
                <strong>Reviewed on @Model.ReviewDate.ToString("dd MMMM yyyy")</strong><br>
                by @Model.ReviewerName
            </p>
        </div>
        
        <form method="post" novalidate>
            
            <govuk-radiobuttons-input 
                heading="How is the school progressing with this objective?"
                heading-style="govuk-fieldset__legend--m"
                name="ProgressStatus"
                asp-for="@Model.ProgressStatus"
                radio-buttons="@Model.ProgressRadioButtons" 
                error-message="@Model.ProgressStatusErrorMessage" />
            
            <div class="govuk-form-group">
                <h2 class="govuk-label-wrapper">
                    <label class="govuk-label govuk-label--m" for="progress-details">
                        Details
                    </label>
                </h2>
                <textarea class="govuk-textarea" 
                          id="progress-details" 
                          name="ProgressDetails" 
                          rows="5" 
                          asp-for="@Model.ProgressDetails"></textarea>
            </div>
            
            <div class="govuk-button-group">
                <button class="govuk-button" type="submit" data-module="govuk-button">
                    Save
                </button>
            </div>
        </form>
    </div>
</div> 