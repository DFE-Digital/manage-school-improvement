@page "/task-list/request-planning-grant-offer-letter/{id:int}"
@using Dfe.ManageSchoolImprovement.Frontend.Models.SupportProject
@using Dfe.Academisation.ExtensionMethods
@model IndexModel

@{
    ViewData["Title"] = "Request planning grant offer letter";
}

@section BeforeMain
{
    <nav aria-label="back navigation">
        <a asp-page="@Links.TaskList.Index.Page" asp-route-id="@Model.SupportProject.Id"
           class="govuk-back-link">Back</a>
    </nav>
}

@if (Model.ShowError)
{
    <partial name="_ErrorSummary"/>
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <span class="govuk-caption-l">@Model.SupportProject.SchoolName</span>
        <h1 class="govuk-heading-l">
            Request planning grant offer letter
        </h1>
        <p class="govuk-body">Email the grant team at <a class="govuk-link"
                                                         href="mailto:@Model.EmailAddress">@Model.EmailAddress</a> and
            ask them to send the planning grant offer letter to the supporting organisation and copy in the school.</p>
        <form method="post" novalidate>
            <govuk-checkbox-input label-hint="Make sure you add the contacts the grant team need to this project."
                                  label="Include the required contact details in the email" id="include-contact-details"
                                  name="include-contact-details" asp-for="@Model.IncludeContactDetails"/>
            <details class="govuk-details">
                <summary class="govuk-details__summary">
                    <span class="govuk-details__summary-text">
                        Contacts needed
                    </span>
                </summary>
                <div class="govuk-details__text">
                    <h2 class="govuk-heading-m">Supporting organisation</h2>
                    <p>You must add the following contact details for the supporting organisation's chief accounting
                        officer, or equivalent:</p>
                    <ul>
                        <li>name</li>
                        <li>email address</li>
                        <li>postal address</li>
                    </ul>
                    <p>Contact the grant team if you're not sure who this is.</p>
                    <h2 class="govuk-heading-m">School</h2>
                    <p>You should also include the contact details of the school.</p>
                    <p>For local authority maintained schools, you must include a name and email address for:</p>
                    <ul>
                        <li>headteacher</li>
                        <li>chair of governors</li>
                    </ul>
                    <p>For academies, you must include a name and email address for:</p>
                    <ul>
                        <li>headteacher</li>
                        <li>trust CEO</li>
                    </ul>
                </div>
            </details>

            <govuk-checkbox-input label-hint="This will always be Â£3,000."
                                  label="Confirm the amount of funding requested" id="confirm-amount-funding"
                                  name="confirm-amount-funding" asp-for="@Model.ConfirmAmountOfFunding"/>
            <govuk-checkbox-input
                label-hint="You may need to copy in the regional director's office rather than them personally."
                label="Copy the regional director in to the email" id="copy-regional-director"
                name="copy-regional-director" asp-for="@Model.CopyInRegionalDirector"/>
            <govuk-checkbox-input label="Send email to the RISE grant team" id="email-rise-grant-team"
                                  name="email-rise-grant-team" asp-for="@Model.EmailRiseGrantTeam"/>
            <govuk-date-input heading-label="false" label="Enter date grant team contacted"
                              id="date-grant-team-contacted" name="date-grant-team-contacted"
                              asp-for="@Model.DateGrantTeamContacted" hint="For example, 1 7 2024."/>
            <button class="govuk-button" id="save-and-continue-button" data-module="govuk-button"
                    data-cy="select-common-submitbutton">
                Save and return
            </button>
        </form>
    </div>
</div>
